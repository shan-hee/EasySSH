/*
 * theme.css - 统一主题配置文件
 * 中心化管理所有颜色变量和主题设置
 * 使用语义化命名规范，支持深色和浅色主题
 */

/* CSS层级定义 - 确保主题变量优先级 */
@layer element-plus, theme-overrides;

/* ===== 基础设计令牌 ===== */
:root {
  /* 布局尺寸 */
  --layout-header-height: 45px; /* 应用头部实际高度 */
  --layout-toolbar-height: 40px; /* 终端工具栏高度 */
  --layout-sidebar-width: 40px; /* 侧边栏折叠状态宽度 */
  --layout-sidebar-expanded-width: 240px;

  /* 字体系统 */
  --font-family-base: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  --font-family-mono: 'JetBrains Mono', 'Menlo', Monaco, Consolas, monospace;

  /* 字号系统 (rem单位，基于16px) */
  --font-size-xs: 0.75rem;   /* 12px */
  --font-size-sm: 0.875rem;  /* 14px */
  --font-size-base: 1rem;    /* 16px */
  --font-size-lg: 1.125rem;  /* 18px */
  --font-size-xl: 1.25rem;   /* 20px */
  --font-size-2xl: 1.5rem;   /* 24px */

  /* 间距系统 (rem单位) */
  --spacing-xs: 0.25rem;  /* 4px */
  --spacing-sm: 0.5rem;   /* 8px */
  --spacing-md: 1rem;     /* 16px */
  --spacing-lg: 1.5rem;   /* 24px */
  --spacing-xl: 2rem;     /* 32px */
  --spacing-2xl: 3rem;    /* 48px */

  /* 圆角系统 */
  --radius-sm: 0.125rem;  /* 2px */
  --radius-md: 0.25rem;   /* 4px */
  --radius-lg: 0.5rem;    /* 8px */
  --radius-xl: 1rem;      /* 16px */
  --radius-full: 50%;

  /* 过渡动画 */
  --transition-fast: 0.1s ease;
  --transition-base: 0.15s ease;
  --transition-slow: 0.3s ease;

  /* Z-index层级 */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal: 1050;
  --z-tooltip: 10000; /* 提高tooltip层级，确保显示在所有元素之上 */
  /* 移除未使用的z-index变量: --z-modal-backdrop, --z-popover */

  /* ===== Tooltip 样式系统 ===== */
  /* Tooltip 字体 */
  --tooltip-font-family: var(--font-family-base);
  --tooltip-font-size: 0.8125rem; /* 13px - 与原来保持一致 */
  --tooltip-font-weight: normal;
  --tooltip-line-height: 1.4;

  /* Tooltip 尺寸 */
  --tooltip-padding-vertical: 0.5rem; /* 8px - 与原来保持一致 */
  --tooltip-padding-horizontal: 0.75rem; /* 12px - 与原来保持一致 */
  --tooltip-border-radius: var(--radius-md);
  --tooltip-max-width: 300px;
  --tooltip-min-height: 28px;

  /* Tooltip 间距 */
  --tooltip-offset: 10px;
  --tooltip-arrow-size: 5px;

  /* Tooltip 动画 */
  --tooltip-transition: all var(--transition-fast);
  --tooltip-delay: 0.5s;
}

/* ===== 默认主题设置 ===== */
/* 注意：颜色变量现在只在具体主题选择器中定义 */
/* 浅色主题作为默认主题，在 :root[data-theme="light"] 中定义 */
/* 深色主题在 :root[data-theme="dark"] 中定义 */

/* ===== 浅色主题（默认主题） ===== */
:root[data-theme="light"],
.light-theme {
  /* 品牌色系 */
  --color-primary: #aaaaaa;
  --color-primary-hover: #bbbbbb;
  --color-primary-active: #999999;
  --color-primary-light: #bbbbbb;
  --color-primary-lighter: #cccccc;
  --color-primary-lightest: #f5f5f5;

  /* 按钮色系 - 浅色主题 */
  --btn-primary-bg: #e0e0e0;
  --btn-primary-hover-bg: #d0d0d0;
  --btn-primary-text: #333333;

  /* 卡片色系 - 浅色主题 */
  --card-bg: #e8e8e8;
  --card-hover-bg: #d8d8d8;
  --card-text: #333333;

  /* 控制面板卡片色系 - 浅色主题 */
  --dashboard-card-bg: #f0f0f0;
  --dashboard-card-header-bg: #e8e8e8;
  --dashboard-card-text: #333333;

  /* 功能色系 */
  --color-success: #52c41a;
  --color-success-light: #73d13d;
  --color-success-bg: #f6ffed;

  --color-warning: #faad14;
  --color-warning-light: #ffc53d;
  --color-warning-bg: #fff7e6;

  --color-error: #f5222d;
  --color-error-light: #ff4d4f;
  --color-error-bg: #fff2f0;

  --color-info: #1890ff;
  --color-info-light: #40a9ff;
  --color-info-bg: #e6f7ff;

  /* 文本色系 */
  --color-text-primary: #303133;
  --color-text-regular: #606266;
  --color-text-secondary: #909399;
  --color-text-placeholder: #c0c4cc;
  --color-text-disabled: rgba(0, 0, 0, 0.25);

  /* 背景色系 */
  --color-bg-page: #f5f7fa;
  --color-bg-container: #ffffff;
  --color-bg-elevated: #ffffff;
  --color-bg-overlay: #ffffff;
  --color-bg-muted: #e8eaed;
  --color-bg-subtle: #fafbfc;
  --color-bg-hover: #f5f7fa;

  /* 组件特定背景色 */
  --shortcut-item-bg: #ffffff80;
  --sftp-panel-bg: #ffffff;
  --sftp-panel-header-bg: #e0e0e0;

  /* 边框色系 */
  --color-border-default: #dcdfe6;
  --color-border-light: #e4e7ed;
  --color-border-lighter: #ebeef5;
  --color-border-dark: #d4d7de;

  /* 阴影系统 */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-base: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.12);
  --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.16);
  --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.20);

  /* Tooltip 颜色系统 - 浅色主题 */
  --tooltip-bg: var(--color-bg-container);
  --tooltip-color: var(--color-text-primary);
  --tooltip-border: none;
  --tooltip-shadow: var(--shadow-lg);
  --tooltip-arrow-color: var(--color-bg-container);

  /* 交互状态 */
  --color-hover-bg: rgba(170, 170, 170, 0.08);
  --color-active-bg: rgba(170, 170, 170, 0.15);
  --color-selected-bg: rgba(170, 170, 170, 0.1);
  --color-disabled-bg: rgba(0, 0, 0, 0.04);
  --color-focus-ring: rgba(170, 170, 170, 0.2);

  /* 组件级变量 - 浅色主题 */
  /* 侧边栏 */
  --sidebar-bg: #ffffff;
  --sidebar-border: #e4e7ed;
  --sidebar-logo-bg: #ffffff;
  --sidebar-nav-color: #606266;
  --sidebar-nav-hover-bg: rgba(170, 170, 170, 0.1);
  --sidebar-nav-hover-color: #aaaaaa;
  --sidebar-nav-active-color: #aaaaaa;
  --sidebar-tooltip-bg: #303133;
  --sidebar-tooltip-color: #ffffff;

  /* 顶部栏 */
  --header-bg: #ffffff;
  --header-border: #e4e7ed;
  --header-color: #606266;
  --header-tab-bg: #ffffff;
  --header-tab-hover-bg: #ecf5ff;
  --header-tab-active-bg: #f5f7fa;
  --header-tab-color: #606266;
  --header-tab-active-color: #303133;
  --header-scrollbar-thumb: #c0c4cc;
  --header-btn-hover-bg: rgba(170, 170, 170, 0.1);
  --header-btn-hover-color: #aaaaaa;

  /* 对话框组件 */
  --dialog-bg: var(--color-bg-container);
  --dialog-border: var(--color-border-default);
  --dialog-header-bg: var(--color-bg-muted);
  --dialog-title-color: var(--color-text-primary);
  --dialog-overlay-bg: rgba(0, 0, 0, 0.5);

  /* 编辑器组件 */
  --editor-bg: var(--color-bg-container);
  --editor-fg: var(--color-text-primary);
  --editor-cursor: var(--color-text-primary);
  --editor-selection: var(--color-info-bg);
  --editor-comment: var(--color-text-secondary);
  --editor-keyword: #d73a49;
  --editor-string: #22863a;
  --editor-function: #6f42c1;
  --editor-variable: #e36209;
  --editor-number: #005cc5;
  --editor-operator: #d73a49;
  --editor-classname: #6f42c1;

  /* SFTP组件 */
  --sftp-panel-header-bg: var(--dashboard-card-bg);
  --sftp-file-list-header-bg: var(--dashboard-card-bg);
  --sftp-empty-folder-color: var(--color-text-secondary);
  --sftp-scrollbar-track: var(--color-bg-container);
  --sftp-scrollbar-thumb: var(--color-border-default);
  --sftp-scrollbar-thumb-hover: var(--color-border-dark);

  /* SFTP进度条颜色 */
  --sftp-progress-low: #ff9800;
  --sftp-progress-medium: #42a5f5;
  --sftp-progress-high: #4caf50;

  /* SFTP加载动画 */
  --sftp-loading-bg: rgba(255, 255, 255, 0.9);
  --sftp-loading-color: var(--color-text-secondary);
  --sftp-loading-spinner-color: var(--color-primary);

  /* SFTP导航按钮 */
  --sftp-nav-button-bg: var(--dashboard-card-bg);
  --sftp-nav-button-color: var(--color-text-primary);
  --sftp-nav-button-hover-bg: var(--color-hover-bg);
  --sftp-nav-button-border: var(--color-border-default);

  /* SFTP路径输入框 */
  --sftp-path-input-bg: var(--dashboard-card-bg);
  --sftp-path-input-color: var(--color-text-primary);
  --sftp-path-input-border: var(--color-border-default);
  --sftp-path-input-hover-bg: var(--color-bg-hover);
  --sftp-path-input-focus-bg: var(--dashboard-card-bg);
  --sftp-path-input-focus-border: var(--color-primary);
  --sftp-path-input-focus-shadow: rgba(64, 158, 255, 0.2);

  /* SFTP路径组件 */
  --sftp-path-separator-color: var(--color-text-placeholder);
  --sftp-path-part-button-color: var(--color-text-primary);
  --sftp-path-part-button-hover-bg: var(--color-hover-bg);
  --sftp-path-field-color: var(--color-text-primary);
  --sftp-path-home-button-color: var(--color-text-secondary);
  --sftp-path-home-button-hover-color: var(--color-text-primary);

  /* SFTP文件项 */
  --sftp-file-item-border: var(--color-border-light);
  --sftp-file-item-color: var(--color-text-primary);
  --sftp-file-item-hover-bg: var(--color-hover-bg);
  --sftp-file-item-active-bg: var(--color-active-bg);
  --sftp-file-directory-color: #42a5f5;
  --sftp-action-button-color: var(--color-text-secondary);
  --sftp-action-button-hover-bg: var(--color-bg-hover);
  --sftp-action-button-hover-color: var(--color-text-primary);

  /* SFTP文件名输入框 */
  --sftp-file-name-input-bg: var(--color-bg-container);
  --sftp-file-name-input-border: var(--color-primary);
  --sftp-file-name-input-color: var(--color-text-primary);
  --sftp-file-name-input-shadow: var(--shadow-sm);
  --sftp-file-name-input-focus-border: var(--color-primary);
  --sftp-file-name-input-focus-shadow: rgba(170, 170, 170, 0.2);
  --sftp-file-name-input-error-border: var(--color-error);
  --sftp-file-name-input-error-bg: rgba(245, 34, 45, 0.1);
  --sftp-file-name-input-error-shadow: rgba(245, 34, 45, 0.2);

  /* SFTP操作按钮 */
  --sftp-confirm-btn-color: var(--color-success);
  --sftp-confirm-btn-bg: rgba(82, 196, 26, 0.1);
  --sftp-confirm-btn-border: rgba(82, 196, 26, 0.3);
  --sftp-confirm-btn-hover-bg: rgba(82, 196, 26, 0.2);
  --sftp-cancel-btn-color: var(--color-error);
  --sftp-cancel-btn-bg: rgba(245, 34, 45, 0.1);
  --sftp-cancel-btn-border: rgba(245, 34, 45, 0.3);
  --sftp-cancel-btn-hover-bg: rgba(245, 34, 45, 0.2);
  --sftp-rename-spinner-color: var(--color-primary);

  /* SFTP工具栏按钮 */
  --sftp-toolbar-button-bg: var(--color-bg-container);
  --sftp-toolbar-button-color: var(--color-text-primary);
  --sftp-toolbar-button-border: var(--color-border-default);
  --sftp-toolbar-button-hover-bg: var(--color-bg-hover);

  /* SFTP搜索输入框 */
  --sftp-search-input-bg: var(--dashboard-card-bg);
  --sftp-search-input-color: var(--color-text-primary);
  --sftp-search-input-border: var(--color-border-default);
  --sftp-search-input-focus-bg: var(--dashboard-card-bg);
  --sftp-search-input-focus-border: var(--color-primary);
  --sftp-search-icon-color: var(--color-text-secondary);
  --sftp-search-clear-color: var(--color-text-secondary);
  --sftp-search-clear-hover-bg: var(--color-hover-bg);

  /* 页面级别变量已迁移为语义化变量，不再需要这些别名 */

  /* 按钮与交互元素 */
  --btn-secondary-bg: #f0f0f0;
  --btn-secondary-color: var(--color-text-primary);
  --btn-secondary-border: var(--color-border-light);
  --btn-secondary-hover: #e6e6e6;

  /* 卡片标题栏 */
  --card-header-bg: var(--color-bg-muted);
  --card-header-border: var(--color-border-default);

  /* 消息通知 */
  --message-bg: var(--color-bg-container);
  --message-border: var(--color-border-default);
  --message-color: var(--color-text-secondary);
  --message-shadow: var(--shadow-sm);

  /* 自动完成组件 */
  --autocomplete-bg: var(--color-bg-container);
  --autocomplete-border: var(--color-border-default);
  --autocomplete-item-hover-bg: var(--color-hover-bg);
  --autocomplete-command-color: var(--color-primary);
  --autocomplete-description-color: var(--color-text-secondary);
  --autocomplete-type-bg: var(--color-bg-muted);
  --autocomplete-type-color: var(--color-text-secondary);
  --autocomplete-type-border: var(--color-border-light);
  --autocomplete-footer-bg: var(--color-bg-muted);
  --autocomplete-hint-color: var(--color-text-placeholder);

  /* 自动完成类型颜色 */
  --autocomplete-type-script-bg: #f0f9ff;
  --autocomplete-type-script-color: #0369a1;
  --autocomplete-type-script-border: #0369a1;
  --autocomplete-type-word-bg: #eff6ff;
  --autocomplete-type-word-color: #1d4ed8;
  --autocomplete-type-word-border: #1d4ed8;
  --autocomplete-type-commands-bg: #fff7ed;
  --autocomplete-type-commands-color: #ea580c;
  --autocomplete-type-commands-border: #ea580c;
  --autocomplete-type-options-bg: #faf5ff;
  --autocomplete-type-options-color: #9333ea;
  --autocomplete-type-options-border: #9333ea;
  --autocomplete-type-development-bg: #ecfeff;
  --autocomplete-type-development-color: #0891b2;
  --autocomplete-type-development-border: #0891b2;

  /* 终端自动完成特殊类型颜色 - 浅色主题 */
  --autocomplete-type-network-bg: #f0fdf4;
  --autocomplete-type-network-color: #16a34a;
  --autocomplete-type-network-border: #16a34a;
  --autocomplete-type-system-bg: #fef3c7;
  --autocomplete-type-system-color: #d97706;
  --autocomplete-type-system-border: #d97706;
  --autocomplete-type-files-bg: #f3e8ff;
  --autocomplete-type-files-color: #9333ea;
  --autocomplete-type-files-border: #9333ea;
  --autocomplete-type-extensions-bg: #fdf2f8;
  --autocomplete-type-extensions-color: #ec4899;
  --autocomplete-type-extensions-border: #ec4899;

  /* 登录组件 */
  --login-title-color: var(--color-text-primary);
  --login-input-bg: var(--color-bg-container);
  --login-input-border: var(--color-border-default);
  --login-input-color: var(--color-text-primary);
  --login-link-color: var(--color-text-secondary);
  --login-link-hover-color: var(--color-text-primary);

  /* 按钮状态 */
  --btn-disabled-bg: var(--color-disabled-bg);
  --btn-disabled-color: var(--color-text-disabled);

  /* Element Plus 组件变量 */
  --el-dropdown-bg: var(--color-bg-container);
  --el-dropdown-border: var(--color-border-default);
  --el-dropdown-item-color: var(--color-text-primary);
  --el-dropdown-item-hover-bg: #f5f7fa;
  --el-dropdown-item-selected-color: #aaaaaa;
  --el-input-color: #606266;
  --el-input-bg: #ffffff;
  --el-input-number-bg: #f5f7fa;
  --el-message-bg: var(--color-bg-container);
  --el-message-border: var(--color-border-light);
  --el-message-color: var(--color-text-regular);
  --el-message-icon-color: #606266;

  /* 登录面板 */
  /* 移除未使用的变量: --login-panel-bg */
  --login-panel-title-color: #303133;
  /* 移除未使用的登录面板输入框变量 */
  --login-panel-btn-bg: #aaaaaa;
  --login-panel-btn-hover-bg: #bbbbbb;
  --login-panel-btn-color: #ffffff;
  --login-panel-link-color: #909399;
  --login-panel-link-hover-color: #aaaaaa;
  /* 移除未使用的登录面板页脚变量 */

  /* 登录面板深色样式变量 - 在浅色主题中定义为对比 */
  --login-panel-forgot-password-color: var(--color-primary);
  --login-panel-forgot-password-hover-color: var(--color-text-primary);
  --login-panel-submit-btn-bg: var(--login-panel-btn-bg);
  --login-panel-submit-btn-hover-bg: var(--login-panel-btn-hover-bg);
  --login-panel-submit-btn-color: var(--login-panel-btn-color);

  /* MFA验证模态框 */
  --mfa-verify-btn-bg: #1890ff;
  --mfa-verify-btn-hover-bg: #40a9ff;
  --mfa-verify-btn-color: #ffffff;

  /* 登录面板容器背景 */
  --login-panel-container-bg: radial-gradient(circle at center,
    var(--color-bg-page) 0%,
    var(--color-bg-muted) 50%,
    var(--color-border-lighter) 100%);

  /* 设置页面 */
  --settings-form-label-color: #606266;
  --settings-input-border: #dcdfe6;
  --settings-input-border-hover: #c0c4cc;
  --settings-input-border-focus: #aaaaaa;
  --settings-bg-preview: #f5f7fa;
  --settings-number-display-color: #606266;
  --settings-control-btn-color: #606266;
  --settings-control-btn-hover-bg: rgba(0, 0, 0, 0.05);
  --settings-section-title-color: #303133;
  --settings-shortcut-desc-color: #606266;
  --settings-shortcut-key-bg: rgba(200, 200, 200, 0.8);
  --settings-shortcut-key-color: #303133;
  --settings-reset-btn-bg: #f5f7fa;
  --settings-reset-btn-border: #dcdfe6;
  --settings-reset-btn-color: #606266;

  /* 设置页面特殊组件 */
  --settings-overlay-bg: rgba(0, 0, 0, 0.5);
  --settings-preview-label-bg: rgba(0, 0, 0, 0.5);
  --settings-preview-label-color: rgba(255, 255, 255, 0.7);

  /* Element Plus 组件样式变量 - 浅色主题 */
  --switch-bg-color: var(--color-border-light);
  --switch-border-color: var(--color-border-light);
  --switch-active-bg-color: var(--color-primary);
  --switch-active-border-color: var(--color-primary);
  --switch-button-color: var(--color-bg-container);
  --switch-active-button-color: var(--color-bg-container);

  --slider-runway-color: var(--color-border-light);
  --slider-bar-color: var(--color-primary);
  --slider-button-color: var(--color-bg-container);
  --slider-button-border-color: var(--color-primary);

  /* AI面板相关颜色 - 浅色主题 */
  --ai-panel-bg: transparent;
  --ai-panel-border: transparent;
  --ai-panel-header-bg: transparent;
  --ai-panel-content-bg: transparent;
  --ai-panel-shadow: none;

  --ai-message-user-bg: transparent;
  --ai-message-user-border: var(--color-primary);
  --ai-message-assistant-bg: transparent;
  --ai-message-assistant-border: var(--color-success);
  --ai-message-system-bg: transparent;
  --ai-message-system-border: var(--color-warning);

  --ai-code-block-bg: var(--color-bg-page);
  --ai-code-block-border: var(--color-border-default);
  --ai-code-header-bg: var(--color-bg-elevated);

  --ai-action-btn-bg: var(--color-bg-elevated);
  --ai-action-btn-border: var(--color-border-default);
  --ai-action-btn-hover-bg: var(--color-bg-hover);

  --ai-empty-icon-color: var(--color-text-tertiary);
  --ai-empty-text-color: var(--color-text-secondary);


}

/* ===== 深色主题 ===== */
:root[data-theme="dark"],
.dark-theme {
  /* 品牌色系 - 深色主题调整 */
  --color-primary: #aaaaaa;
  --color-primary-hover: #bbbbbb;
  --color-primary-active: #999999;
  --color-primary-light: #bbbbbb;
  --color-primary-lighter: #cccccc;
  --color-primary-lightest: #2c2c2c;

  /* 按钮色系 - 深色主题 */
  --btn-primary-bg: #444444;
  --btn-primary-hover-bg: #555555;
  --btn-primary-text: #ffffff;

  /* 卡片色系 - 深色主题 */
  --card-bg: #2c2c2c;
  --card-hover-bg: #3a3a3a;
  --card-text: #ffffff;

  /* 控制面板卡片色系 - 深色主题 */
  --dashboard-card-bg: #252526;
  --dashboard-card-header-bg: #2c2c2c;
  --dashboard-card-text: #ffffff;

  /* 功能色系 - 深色主题调整 */
  --color-success: #49aa19;
  --color-success-light: #6abe39;
  --color-success-bg: #162312;

  --color-warning: #d89614;
  --color-warning-light: #e2b340;
  --color-warning-bg: #2b2111;

  --color-error: #d32029;
  --color-error-light: #e84749;
  --color-error-bg: #2a1215;

  --color-info: #1890ff;
  --color-info-light: #40a9ff;
  --color-info-bg: #111b26;

  /* 文本色系 - 深色主题 */
  --color-text-primary: #ffffff;
  --color-text-regular: #ffffff;
  --color-text-secondary: rgba(255, 255, 255, 0.65);
  --color-text-placeholder: rgba(255, 255, 255, 0.45);
  --color-text-disabled: rgba(255, 255, 255, 0.3);

  /* 背景色系 - 深色主题 */
  --color-bg-page: #141414;
  --color-bg-container: #1e1e1e;
  --color-bg-elevated: #1f1f1f;
  --color-bg-overlay: #1e1e1e;
  --color-bg-muted: #2c2c2c;
  --color-bg-subtle: #0a0a0a;
  --color-bg-hover: #333333;

  /* 组件特定背景色 - 深色主题 */
  --shortcut-item-bg: #1e1e1e80;
  --sftp-panel-bg: #1f1f1f;
  --sftp-panel-header-bg: #2c2c2c;

  /* 边框色系 - 深色主题 */
  --color-border-default: #333333;
  --color-border-light: #333333;
  --color-border-lighter: #333333;
  --color-border-dark: #333333;

  /* 阴影系统 - 深色主题 */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-base: 0 2px 8px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.5);

  /* Tooltip 颜色系统 - 深色主题 */
  --tooltip-bg: var(--color-bg-container);
  --tooltip-color: var(--color-text-primary);
  --tooltip-border: var(--color-border-default);
  --tooltip-shadow: var(--shadow-lg);

  /* Element Plus 变量覆盖 - 深色主题 */
  --el-color-primary: var(--color-primary);
  --el-color-primary-light-3: var(--color-primary-hover);
  --el-color-primary-light-5: var(--color-primary-light);
  --el-color-primary-light-7: var(--color-primary-lighter);
  --el-color-primary-light-8: var(--color-primary-lightest);
  --el-color-primary-light-9: var(--color-primary-lightest);

  --el-bg-color: var(--color-bg-container);
  --el-bg-color-overlay: var(--color-bg-overlay);
  --el-fill-color-blank: var(--color-bg-container);
  --el-fill-color-light: var(--color-bg-muted);
  --el-color-white: var(--color-bg-container);

  --el-text-color-primary: var(--color-text-primary);
  --el-text-color-regular: var(--color-text-regular);
  --el-text-color-secondary: var(--color-text-secondary);
  --el-text-color-placeholder: var(--color-text-placeholder);

  --el-border-color: var(--color-border-default);
  --el-border-color-light: var(--color-border-light);

  --el-dropdown-menuItem-hover-fill: var(--color-hover-bg);
  --el-dropdown-menuItem-hover-color: var(--color-primary);
  --el-select-dropdown-bg-color: var(--color-bg-container);
  --el-select-option-hover-background: var(--color-hover-bg);
  --tooltip-arrow-color: var(--color-bg-container);

  /* 交互状态 - 深色主题 */
  --color-hover-bg: rgba(170, 170, 170, 0.15);
  --color-active-bg: rgba(170, 170, 170, 0.25);
  --color-selected-bg: rgba(170, 170, 170, 0.2);
  --color-disabled-bg: rgba(255, 255, 255, 0.08);
  --color-focus-ring: rgba(170, 170, 170, 0.3);

  /* 组件级变量 - 深色主题 */
  /* 侧边栏 */
  --sidebar-bg: #1e1e1e;
  --sidebar-border: var(--color-border-default);
  --sidebar-logo-bg: #1e1e1e;
  --sidebar-nav-color: #a0a0a0;
  --sidebar-nav-hover-bg: rgba(255, 255, 255, 0.1);
  --sidebar-nav-hover-color: #ffffff;
  --sidebar-nav-active-color: #d0d0d0;
  --sidebar-tooltip-bg: #333333;
  --sidebar-tooltip-color: #e0e0e0;

  /* 顶部栏 */
  --header-bg: #242424;
  --header-border: var(--color-border-default);
  --header-color: #a0a0a0;
  --header-tab-bg: #1a1a1a;
  --header-tab-hover-bg: #1e1e1e;
  --header-tab-active-bg: #121212;
  --header-tab-color: #a0a0a0;
  --header-tab-active-color: #e0e0e0;
  --header-scrollbar-thumb: #333333;
  --header-btn-hover-bg: #333333;
  --header-btn-hover-color: #ffffff;

  /* 对话框组件 - 深色主题 */
  --dialog-bg: var(--color-bg-container);
  --dialog-border: var(--color-border-default);
  --dialog-header-bg: var(--color-bg-container);
  --dialog-title-color: var(--color-text-primary);
  --dialog-overlay-bg: rgba(0, 0, 0, 0.7);

  /* 编辑器组件 - 深色主题 */
  --editor-bg: var(--color-bg-container);
  --editor-fg: var(--color-text-primary);
  --editor-cursor: var(--color-text-primary);
  --editor-selection: var(--color-info-bg);
  --editor-comment: var(--color-text-secondary);
  --editor-keyword: #c678dd;
  --editor-string: #98c379;
  --editor-function: #61afef;
  --editor-variable: #e06c75;
  --editor-number: #d19a66;
  --editor-operator: #56b6c2;
  --editor-classname: #e5c07b;

  /* SFTP组件 - 深色主题 */
  --sftp-panel-header-bg: #2c2c2c;
  --sftp-file-list-header-bg: #2c2c2c;
  --sftp-empty-folder-color: #888888;
  --sftp-scrollbar-track: rgba(0, 0, 0, 0.1);
  --sftp-scrollbar-thumb: rgba(255, 255, 255, 0.2);
  --sftp-scrollbar-thumb-hover: rgba(255, 255, 255, 0.3);

  /* SFTP进度条颜色 - 深色主题 */
  --sftp-progress-low: #ff9800;
  --sftp-progress-medium: #42a5f5;
  --sftp-progress-high: #4caf50;

  /* SFTP加载动画 - 深色主题 */
  --sftp-loading-bg: rgba(30, 30, 30, 0.9);
  --sftp-loading-color: #909399;
  --sftp-loading-spinner-color: var(--color-primary);

  /* SFTP导航按钮 - 深色主题 */
  --sftp-nav-button-bg: #2c2c2c;
  --sftp-nav-button-color: #e0e0e0;
  --sftp-nav-button-hover-bg: #3c3c3c;
  --sftp-nav-button-border: var(--color-border-default);

  /* SFTP路径输入框 - 深色主题 */
  --sftp-path-input-bg: #2c2c2c;
  --sftp-path-input-color: var(--color-text-primary);
  --sftp-path-input-border: var(--color-border-default);
  --sftp-path-input-hover-bg: var(--color-bg-hover);
  --sftp-path-input-focus-bg: #2c2c2c;
  --sftp-path-input-focus-border: var(--color-primary);
  --sftp-path-input-focus-shadow: rgba(64, 158, 255, 0.2);

  /* SFTP路径组件 - 深色主题 */
  --sftp-path-separator-color: #666666;
  --sftp-path-part-button-color: #e0e0e0;
  --sftp-path-part-button-hover-bg: rgba(255, 255, 255, 0.1);
  --sftp-path-field-color: #ffffff;
  --sftp-path-home-button-color: #aaaaaa;
  --sftp-path-home-button-hover-color: #ffffff;

  /* SFTP文件项 - 深色主题 */
  --sftp-file-item-border: #333333;
  --sftp-file-item-color: #e0e0e0;
  --sftp-file-item-hover-bg: rgba(64, 158, 255, 0.1);
  --sftp-file-item-active-bg: rgba(64, 158, 255, 0.2);
  --sftp-file-directory-color: #42a5f5;
  --sftp-action-button-color: #aaaaaa;
  --sftp-action-button-hover-bg: rgba(255, 255, 255, 0.1);
  --sftp-action-button-hover-color: #ffffff;

  /* SFTP文件名输入框 - 深色主题 */
  --sftp-file-name-input-bg: #2a2a2a;
  --sftp-file-name-input-border: #42a5f5;
  --sftp-file-name-input-color: #e0e0e0;
  --sftp-file-name-input-shadow: rgba(0, 0, 0, 0.2);
  --sftp-file-name-input-focus-border: #64b5f6;
  --sftp-file-name-input-focus-shadow: rgba(66, 165, 245, 0.2);
  --sftp-file-name-input-error-border: #f56c6c;
  --sftp-file-name-input-error-bg: rgba(245, 108, 108, 0.1);
  --sftp-file-name-input-error-shadow: rgba(245, 108, 108, 0.2);

  /* SFTP操作按钮 - 深色主题 */
  --sftp-confirm-btn-color: #67c23a;
  --sftp-confirm-btn-bg: rgba(103, 194, 58, 0.2);
  --sftp-confirm-btn-border: rgba(103, 194, 58, 0.3);
  --sftp-confirm-btn-hover-bg: rgba(103, 194, 58, 0.3);
  --sftp-cancel-btn-color: #f56c6c;
  --sftp-cancel-btn-bg: rgba(245, 108, 108, 0.2);
  --sftp-cancel-btn-border: rgba(245, 108, 108, 0.3);
  --sftp-cancel-btn-hover-bg: rgba(245, 108, 108, 0.3);
  --sftp-rename-spinner-color: #42a5f5;

  /* SFTP工具栏按钮 - 深色主题 */
  --sftp-toolbar-button-bg: var(--color-bg-container);
  --sftp-toolbar-button-color: var(--color-text-primary);
  --sftp-toolbar-button-border: var(--color-border-default);
  --sftp-toolbar-button-hover-bg: var(--color-bg-hover);

  /* SFTP搜索输入框 - 深色主题 */
  --sftp-search-input-bg: #2c2c2c;
  --sftp-search-input-color: var(--color-text-primary);
  --sftp-search-input-border: var(--color-border-default);
  --sftp-search-input-focus-bg: #2c2c2c;
  --sftp-search-input-focus-border: var(--color-primary);
  --sftp-search-icon-color: #aaaaaa;
  --sftp-search-clear-color: #aaaaaa;
  --sftp-search-clear-hover-bg: rgba(255, 255, 255, 0.1);

  /* 页面级别变量已迁移为语义化变量，不再需要这些别名 */

  /* 按钮与交互元素 - 深色主题 */
  --btn-secondary-bg: #333333;
  --btn-secondary-color: var(--color-text-primary);
  --btn-secondary-border: var(--color-border-default);
  --btn-secondary-hover: #444444;

  /* 卡片标题栏 - 深色主题 */
  --card-header-bg: #2d2d2d;
  --card-header-border: var(--color-border-default);

  /* 消息通知 - 深色主题 */
  --message-bg: #242424;
  --message-border: var(--color-border-default);
  --message-color: var(--color-text-secondary);
  --message-shadow: rgba(0, 0, 0, 0.2);

  /* 自动完成组件 - 深色主题 */
  --autocomplete-bg: #1e1e1e;
  --autocomplete-border: #404040;
  --autocomplete-item-hover-bg: #333333;
  --autocomplete-command-color: #4fc1ff;
  --autocomplete-description-color: #cccccc;
  --autocomplete-type-bg: #404040;
  --autocomplete-type-color: #cccccc;
  --autocomplete-type-border: #555555;
  --autocomplete-footer-bg: #2d2d2d;
  --autocomplete-hint-color: #888888;

  /* 自动完成类型颜色 - 深色主题 */
  --autocomplete-type-script-bg: #0e4f1c;
  --autocomplete-type-script-color: #4ec9b0;
  --autocomplete-type-script-border: #4ec9b0;
  --autocomplete-type-word-bg: #1e3a8a;
  --autocomplete-type-word-color: #60a5fa;
  --autocomplete-type-word-border: #60a5fa;
  --autocomplete-type-commands-bg: #7c2d12;
  --autocomplete-type-commands-color: #fb923c;
  --autocomplete-type-commands-border: #fb923c;
  --autocomplete-type-options-bg: #581c87;
  --autocomplete-type-options-color: #c084fc;
  --autocomplete-type-options-border: #c084fc;
  --autocomplete-type-development-bg: #164e63;
  --autocomplete-type-development-color: #22d3ee;
  --autocomplete-type-development-border: #22d3ee;

  /* 终端自动完成特殊类型颜色 - 深色主题 */
  --autocomplete-type-network-bg: #065f46;
  --autocomplete-type-network-color: #34d399;
  --autocomplete-type-network-border: #34d399;
  --autocomplete-type-system-bg: #7c2d12;
  --autocomplete-type-system-color: #fbbf24;
  --autocomplete-type-system-border: #fbbf24;
  --autocomplete-type-files-bg: #4c1d95;
  --autocomplete-type-files-color: #a78bfa;
  --autocomplete-type-files-border: #a78bfa;
  --autocomplete-type-extensions-bg: #831843;
  --autocomplete-type-extensions-color: #f472b6;
  --autocomplete-type-extensions-border: #f472b6;

  /* 登录组件 - 深色主题 */
  --login-title-color: var(--color-text-primary);
  --login-input-bg: rgba(245, 247, 250, 0.1);
  --login-input-border: var(--color-border-default);
  --login-input-color: var(--color-text-primary);
  --login-link-color: var(--color-text-secondary);
  --login-link-hover-color: #eeeeee;

  /* 按钮状态 - 深色主题 */
  --btn-disabled-bg: #555555;
  --btn-disabled-color: var(--color-text-disabled);

  /* Element Plus 组件变量 - 深色主题 */
  --el-dropdown-bg: var(--color-bg-container);
  --el-dropdown-border: var(--color-border-default);
  --el-dropdown-item-color: var(--color-text-primary);
  --el-dropdown-item-hover-bg: var(--color-hover-bg);
  --el-dropdown-item-selected-color: var(--color-primary);
  --el-input-color: var(--color-text-primary);
  --el-input-bg: transparent;
  --el-input-number-bg: var(--color-bg-muted);
  --el-message-bg: var(--color-bg-container);
  --el-message-border: var(--color-border-default);
  --el-message-color: var(--color-text-primary);
  --el-message-icon-color: var(--color-text-primary);

  /* 登录面板 */
  /* 移除未使用的登录面板变量 */
  --login-panel-title-color: #ffffff;
  --login-panel-btn-bg: rgba(60, 60, 60, 0.6);
  --login-panel-btn-hover-bg: rgba(80, 80, 80, 0.8);
  --login-panel-btn-color: #ffffff;
  --login-panel-link-color: #aaaaaa;
  --login-panel-link-hover-color: #eeeeee;
  /* 移除未使用的登录面板页脚变量 */

  /* 登录面板深色样式变量 - 深色主题 */
  --login-panel-forgot-password-color: #aaaaaa;
  --login-panel-forgot-password-hover-color: #eeeeee;
  --login-panel-submit-btn-bg: rgba(60, 60, 60, 0.6);
  --login-panel-submit-btn-hover-bg: rgba(80, 80, 80, 0.8);
  --login-panel-submit-btn-color: #ffffff;

  /* MFA验证模态框 - 深色主题 */
  --mfa-verify-btn-bg: #555555;
  --mfa-verify-btn-hover-bg: #666666;
  --mfa-verify-btn-color: var(--color-text-primary);

  /* 登录面板容器背景 - 深色主题 */
  --login-panel-container-bg: radial-gradient(circle at center,
    #161616 0%,
    #161616 3%,
    #141414 7%,
    #141414 10%,
    #121212 14%,
    #121212 18%,
    #101010 22%,
    #101010 26%,
    #0e0e0e 30%,
    #0e0e0e 34%,
    #0c0c0c 38%,
    #0c0c0c 42%,
    #0a0a0a 46%,
    #0a0a0a 100%);

  /* 设置页面 */
  --settings-form-label-color: #ffffff;
  --settings-input-border: #666666;
  --settings-input-border-hover: #888888;
  --settings-input-border-focus: #aaaaaa;
  --settings-bg-preview: #1e1e1e;
  --settings-number-display-color: #ffffff;
  --settings-control-btn-color: #ffffff;
  --settings-control-btn-hover-bg: rgba(255, 255, 255, 0.1);
  --settings-section-title-color: #e0e0e0;
  --settings-shortcut-desc-color: #e0e0e0;
  --settings-shortcut-key-bg: rgba(50, 50, 50, 0.8);
  --settings-shortcut-key-color: #ffffff;
  --settings-reset-btn-bg: #444444;
  --settings-reset-btn-border: #444444;
  --settings-reset-btn-color: #ffffff;

  /* 设置页面特殊组件 - 深色主题 */
  --settings-overlay-bg: rgba(0, 0, 0, 0.7);
  --settings-preview-label-bg: rgba(0, 0, 0, 0.7);
  --settings-preview-label-color: rgba(255, 255, 255, 0.8);

  /* Element Plus 组件样式变量 - 深色主题 */
  --switch-bg-color: var(--color-border-default);
  --switch-border-color: var(--color-border-default);
  --switch-active-bg-color: var(--color-primary);
  --switch-active-border-color: var(--color-primary);
  --switch-button-color: var(--color-primary);
  --switch-active-button-color: var(--color-bg-container);

  --slider-runway-color: var(--color-border-default);
  --slider-bar-color: var(--color-primary);
  --slider-button-color: var(--color-primary);
  --slider-button-border-color: var(--color-primary);

  /* AI面板相关颜色 - 深色主题 */
  --ai-panel-bg: transparent;
  --ai-panel-border: transparent;
  --ai-panel-header-bg: transparent;
  --ai-panel-content-bg: transparent;
  --ai-panel-shadow: none;

  --ai-message-user-bg: transparent;
  --ai-message-user-border: var(--color-primary);
  --ai-message-assistant-bg: transparent;
  --ai-message-assistant-border: var(--color-success);
  --ai-message-system-bg: transparent;
  --ai-message-system-border: var(--color-warning);

  --ai-code-block-bg: var(--color-bg-page);
  --ai-code-block-border: var(--color-border-default);
  --ai-code-header-bg: var(--color-bg-elevated);

  --ai-action-btn-bg: var(--color-bg-elevated);
  --ai-action-btn-border: var(--color-border-default);
  --ai-action-btn-hover-bg: var(--color-bg-hover);

  --ai-empty-icon-color: var(--color-text-tertiary);
  --ai-empty-text-color: var(--color-text-secondary);


}

/* ===== Element Plus 组件主题变量已整合到各主题定义中 ===== */

/* ===== 系统偏好自适应已移除 ===== */
/* 现在完全由设置服务的 applyTheme 方法控制主题切换 */

/* ===== 组件样式定义 ===== */

/* SFTP组件样式 */
.sftp-panel-header {
  background-color: var(--sftp-panel-header-bg);
  border-bottom-color: var(--color-border-default);
}

.sftp-panel-header h3 {
  color: var(--color-text-primary);
}

.sftp-panel-header .close-button {
  color: var(--color-text-primary);
}

.sftp-panel-header .close-button:hover {
  background-color: var(--color-hover-bg);
}

.sftp-placeholder p {
  color: var(--color-text-secondary);
}

.sftp-file-list-header {
  background-color: var(--sftp-file-list-header-bg);
  color: var(--color-text-secondary);
  border-bottom-color: var(--color-border-default);
}

.sftp-empty-folder {
  color: var(--sftp-empty-folder-color);
}

/* SFTP滚动条样式 */
.sftp-file-items::-webkit-scrollbar-track {
  background: var(--sftp-scrollbar-track);
}

.sftp-file-items::-webkit-scrollbar-thumb {
  background: var(--sftp-scrollbar-thumb);
}

.sftp-file-items::-webkit-scrollbar-thumb:hover {
  background: var(--sftp-scrollbar-thumb-hover);
}

/* Element Plus 全局组件样式 */
.el-select-dropdown,
.el-dropdown-menu,
.el-cascader__dropdown,
.el-date-picker,
.el-time-panel,
.el-popper.is-light {
  background-color: var(--el-dropdown-bg);
  border: 1px solid var(--el-dropdown-border);
  color: var(--el-dropdown-item-color);
  box-shadow: var(--shadow-lg);
}

.el-popper.is-light .el-popper__arrow::before,
.el-select-dropdown.el-popper .el-popper__arrow::before,
.el-cascader__dropdown.el-popper .el-popper__arrow::before,
.el-dropdown-menu.el-popper .el-popper__arrow::before {
  background-color: var(--el-dropdown-bg);
  border-color: var(--el-dropdown-border);
}

.el-select-dropdown__item,
.el-dropdown-menu__item,
.el-cascader-node {
  color: var(--el-dropdown-item-color);
}

.el-select-dropdown__item.hover,
.el-select-dropdown__item:hover,
.el-select-dropdown__item.is-hover,
.el-dropdown-menu__item:hover,
.el-dropdown-menu__item:focus,
.el-cascader-node:hover,
.el-cascader-node:focus {
  background-color: var(--el-dropdown-item-hover-bg);
  color: var(--el-dropdown-item-color);
}

.el-select-dropdown__item.selected,
.el-select-dropdown__item.is-selected,
.el-dropdown-menu__item.is-selected,
.el-cascader-node.is-active,
.el-cascader-node.in-active-path {
  color: var(--el-dropdown-item-selected-color);
  font-weight: bold;
  background-color: transparent;
}

.el-select-dropdown__item.selected.hover,
.el-select-dropdown__item.selected:hover,
.el-select-dropdown__item.is-selected.is-hover,
.el-select-dropdown__item.is-selected:hover,
.el-dropdown-menu__item.is-selected:hover,
.el-cascader-node.is-active:hover {
  background-color: var(--el-dropdown-item-hover-bg);
}

.el-input__inner,
.el-textarea__inner {
  color: var(--el-input-color);
  caret-color: var(--color-primary);
  background-color: var(--el-input-bg);
}

.el-input-number {
  border: none;
  background-color: var(--el-input-number-bg);
  border-radius: var(--radius-sm);
  height: 36px;
  width: 100px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.el-input-number__decrease,
.el-input-number__increase {
  border: none;
  background-color: transparent;
  color: var(--el-input-color);
  box-shadow: none;
  width: 36px;
  height: 36px;
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.el-input-number__wrapper {
  box-shadow: none;
  border: none;
  background-color: transparent;
  border-radius: 0;
  padding: 0;
  flex: 1;
}

.el-input-number .el-input__wrapper {
  box-shadow: none;
  background-color: transparent;
  padding: 0;
}

.el-input-number .el-input {
  width: 100%;
  text-align: center;
}

.el-input-number .el-input__inner {
  text-align: center;
  padding: 0;
  height: 36px;
}

.el-switch__core {
  background-color: var(--switch-bg-color);
  border-color: var(--switch-border-color);
}

.el-switch.is-checked .el-switch__core {
  background-color: var(--switch-active-bg-color);
  border-color: var(--switch-active-border-color);
}

.el-switch__core .el-switch__action {
  background-color: var(--switch-button-color);
}

.el-switch.is-checked .el-switch__core .el-switch__action {
  background-color: var(--switch-active-button-color);
}

.el-slider__runway {
  background-color: var(--slider-runway-color);
}

.el-slider__bar {
  background-color: var(--slider-bar-color);
}

.el-slider__button {
  border-color: var(--slider-button-border-color);
  background-color: var(--slider-button-color);
}

.el-select-dropdown__item.is-disabled,
.el-dropdown-menu__item.is-disabled,
.el-cascader-node.is-disabled {
  color: var(--color-text-disabled);
}

.el-message {
  background-color: var(--el-message-bg);
  border-color: var(--el-message-border);
  color: var(--el-message-color);
  box-shadow: var(--shadow-base);
}

.el-message .el-message__icon,
.el-message--success .el-message__icon,
.el-message__content {
  color: var(--el-message-icon-color);
}

/* 终端自动完成组件样式 */
.terminal-autocomplete {
  background: var(--autocomplete-bg);
  border-color: var(--autocomplete-border);
  box-shadow: var(--shadow-lg);
}

.autocomplete-header {
  background: var(--autocomplete-footer-bg);
  border-bottom-color: var(--autocomplete-border);
}

.autocomplete-title {
  color: var(--color-text-primary);
}

.autocomplete-count {
  color: var(--autocomplete-hint-color);
}

.autocomplete-item {
  border-bottom-color: var(--color-border-lighter);
}

.autocomplete-item--active {
  background: var(--color-selected-bg);
}

.autocomplete-item:hover {
  background: var(--autocomplete-item-hover-bg);
}

.autocomplete-command {
  color: var(--autocomplete-command-color);
}

.autocomplete-description {
  color: var(--autocomplete-description-color);
}

.autocomplete-type {
  background: var(--autocomplete-type-bg);
  color: var(--autocomplete-type-color);
  border-color: var(--autocomplete-type-border);
}

.autocomplete-footer {
  background: var(--autocomplete-footer-bg);
  border-top-color: var(--autocomplete-border);
}

.autocomplete-hint {
  color: var(--autocomplete-hint-color);
}

/* 自动完成滚动条样式 */
.autocomplete-list::-webkit-scrollbar-track {
  background: var(--autocomplete-bg);
}

.autocomplete-list::-webkit-scrollbar-thumb {
  background: var(--autocomplete-border);
}

.autocomplete-list::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-dark);
}

/* 自动完成类型样式 */
.autocomplete-type--script {
  background: var(--autocomplete-type-script-bg);
  color: var(--autocomplete-type-script-color);
  border-color: var(--autocomplete-type-script-border);
}

.autocomplete-type--word {
  background: var(--autocomplete-type-word-bg);
  color: var(--autocomplete-type-word-color);
  border-color: var(--autocomplete-type-word-border);
}

.autocomplete-type--commands {
  background: var(--autocomplete-type-commands-bg);
  color: var(--autocomplete-type-commands-color);
  border-color: var(--autocomplete-type-commands-border);
}

.autocomplete-type--options {
  background: var(--autocomplete-type-options-bg);
  color: var(--autocomplete-type-options-color);
  border-color: var(--autocomplete-type-options-border);
}

.autocomplete-type--development {
  background: var(--autocomplete-type-development-bg);
  color: var(--autocomplete-type-development-color);
  border-color: var(--autocomplete-type-development-border);
}

/* ===== 基础元素样式应用 ===== */
/* body样式已移至 base/critical.css */

/* 主题切换过渡动画 */
:root {
  --theme-transition-duration: 0.5s; /* 适中的过渡时间，既快速又有渐变效果 */
  --theme-transition-timing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --theme-transition-fast: 0.06s; /* 稍快的过渡时间 */

  /* 关键布局变量 - 向后兼容 */
  --header-height: var(--layout-header-height);
  --sidebar-width: var(--layout-sidebar-expanded-width);
  --sidebar-collapsed-width: var(--layout-sidebar-width);
  --content-transition: var(--transition-base);
}

/* 只对关键视觉元素应用主题过渡动画 */
/* 移除全局通配符选择器，改为精确选择器 */
body,
.app-header,
.app-sidebar,
.sidebar,
.nav-menu,
.nav-item,
.logo,
.menu,
.menu__item,
.menu__icon-wrapper,
.menu__text,
.menu__shortcut-group,
.menu__submenu,
.menu__submenu-item,
.tab-container,
.tab-item,
.tab-title,
.tab-close,
.tab-adder,
.tab-adder-dropdown-trigger,
.tab-adder-icon,
.header-actions,
.btn-icon,
.login-btn,
.user-btn,
.user-dropdown,
.user-dropdown-item,
.user-menu-container,
.card,
.btn,
.el-button,
.el-input,
.el-select,
.el-switch,
.el-slider,
.settings-panel,
.connection-card,
.sftp-container,
.dashboard-container,
.dashboard-card,
.card-header,
.card-content,
.dashboard-table-container,
.connection-table,
.status-item,
.timeline-item,
.activity-log,
.connection-header,
.connection-content,
.connection-section,
.connection-grid,
.connection-form-container,
.control-row,
.search-container,
.row-item,
.connection-list,
.connection-item,
.connection-info,
.connection-actions,
.no-connections,
.error-indicator,
.loading-indicator,
.terminal-container,
.terminals-wrapper,
.terminal-toolbar-container,
.terminal-tools,
.terminal-tools__left,
.terminal-autocomplete,
.connecting-overlay,
.terminal-content-wrapper,
.terminal-content,
.terminal-content-padding,
.sftp-panel-container,
.sftp-panel,
.sftp-panel-header,
.sftp-panel-content,
.sftp-editor-container,
.sftp-editor-wrapper,
.sftp-editor-header,
.sftp-editor-footer,
.sftp-editor-body,
.sftp-path-navigator,
.sftp-nav-button,
.sftp-path-part-button,
.sftp-path-input,
.sftp-toolbar,
.sftp-toolbar-button,
.sftp-search-input,
.sftp-file-explorer,
.sftp-file-list,
.sftp-file-list-header,
.sftp-file-list-content,
.sftp-file-item {
  transition:
    background-color var(--theme-transition-duration) var(--theme-transition-timing),
    border-color var(--theme-transition-duration) var(--theme-transition-timing),
    color var(--theme-transition-duration) var(--theme-transition-timing),
    box-shadow var(--theme-transition-duration) var(--theme-transition-timing);
}

/* SVG图标过渡 */
svg,
.themed-icon,
.ruyi-icon {
  transition:
    fill var(--theme-transition-fast) var(--theme-transition-timing),
    stroke var(--theme-transition-fast) var(--theme-transition-timing),
    color var(--theme-transition-fast) var(--theme-transition-timing);
}

/* 避免某些元素的过渡动画（如输入框光标） */
input,
textarea,
[contenteditable] {
  caret-color: var(--color-primary);
}

/* 终端容器特定过渡 - 为背景色变化添加渐变效果 */
.terminal-container,
.terminals-wrapper,
.terminal-content-wrapper,
.terminal-content,
.terminal-content-padding {
  transition:
    background-color var(--theme-transition-duration) var(--theme-transition-timing),
    background var(--theme-transition-duration) var(--theme-transition-timing),
    border-color var(--theme-transition-duration) var(--theme-transition-timing),
    color var(--theme-transition-duration) var(--theme-transition-timing),
    box-shadow var(--theme-transition-duration) var(--theme-transition-timing) !important;
}

/* 避免对性能敏感元素应用过渡 - 但允许背景色过渡 */
.cm-editor,
.cm-content,
.cm-line,
.cm-gutters,
.cm-scroller {
  /* 只允许背景色过渡，禁用其他可能影响性能的过渡 */
  transition: background-color var(--theme-transition-duration) var(--theme-transition-timing) !important;
}

/* xterm元素允许背景色过渡，但禁用其他属性过渡 */
.xterm,
.xterm-viewport,
.xterm-screen {
  transition: background-color 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* 为主题切换提供视觉反馈 */
.theme-switching {
  pointer-events: none;
}

/* 防止页面加载时的主题闪烁 - 禁用初始动画 */
.no-transitions,
.no-transitions *,
.no-transitions *:before,
.no-transitions *:after {
  transition: none !important;
  animation: none !important;
}

/* ===== Element Plus 主题变量覆盖层级 ===== */
/* 使用CSS层级确保主题变量优先级，避免使用!important */
@layer theme-overrides {
  /* 浅色主题 Element Plus 变量覆盖 */
  :root[data-theme="light"],
  .light-theme {
    /* 主色系 */
    --el-color-primary: var(--color-primary);
    --el-color-primary-light-3: var(--color-primary-hover);
    --el-color-primary-light-5: var(--color-primary-light);
    --el-color-primary-light-7: var(--color-primary-lighter);
    --el-color-primary-light-8: var(--color-primary-lightest);
    --el-color-primary-light-9: var(--color-primary-lightest);

    /* 背景色系 */
    --el-bg-color: var(--color-bg-container);
    --el-bg-color-overlay: var(--color-bg-overlay);
    --el-fill-color-blank: var(--color-bg-container);
    --el-fill-color-light: var(--color-bg-muted);
    --el-color-white: var(--color-bg-container);

    /* 文本色系 */
    --el-text-color-primary: var(--color-text-primary);
    --el-text-color-regular: var(--color-text-regular);
    --el-text-color-secondary: var(--color-text-secondary);
    --el-text-color-placeholder: var(--color-text-placeholder);

    /* 边框色系 */
    --el-border-color: var(--color-border-default);
    --el-border-color-light: var(--color-border-light);

    /* 交互组件 */
    --el-dropdown-menuItem-hover-fill: var(--color-hover-bg);
    --el-dropdown-menuItem-hover-color: var(--color-primary);
    --el-select-dropdown-bg-color: var(--color-bg-container);
    --el-select-option-hover-background: var(--color-hover-bg);
  }

  /* 深色主题 Element Plus 变量覆盖已合并到上面的深色主题定义中 */
}